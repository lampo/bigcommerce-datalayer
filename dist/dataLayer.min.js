(function(){const s={z6agnrtx29:{146:"TMMOWRKBK",147:"TMMOBUNDLE",161:"BSMTMMO01",149:"STARTERSPEC20",145:"ALLINONEPACK16",142:"ENTRECAREERBKS04",152:"WEDDINGGIFT04",143:"ULTIMATECAREER",144:"IYIKCB01",153:"LIVEGIVE",151:"FPUGUIDEWDVD",179:"FPUV4CLASSBNDL",189:"TMMOWRKBK",194:"TMMOBUNDLE",192:"BSMTMMO01",191:"STARTERSPEC20",195:"WEDDINGGIFT04",193:"ULTIMATECAREER",190:"IYIKCB01",248:"FPKidsBundle",312:"ALLINONEPACK16",313:"ENTRECAREERBKS04",315:"IYIKCB01",316:"STARTERSPEC20",317:"BSMTMMO01",318:"TMMOWRKBK",319:"ULTIMATECAREER",320:"WEDDINGGIFT04",321:"ALLINONEPACK16",322:"ENTRECAREERBKS04",323:"FPKidsBundle",324:"TMMOBUNDLE",338:"IYIKCB01",339:"STARTERSPEC20",340:"BSMTMMO01",341:"TMMOWRKBK",342:"TMMOBUNDLE",343:"ULTIMATECAREER",344:"WEDDINGGIFT04",345:"ALLINONEPACK16",346:"ENTRECAREERBKS04",347:"FPKidsBundle",351:"IYIKCB01",352:"STARTERSPEC20",353:"BSMTMMO01",354:"TMMOWRKBK",355:"ULTIMATECAREER",356:"WEDDINGGIFT04",357:"ALLINONEPACK16",358:"ENTRECAREERBKS04",359:"TMMOBUNDLE",361:"FPUV4CLASSBNDL"},z5er1c0d4z:{117:"TMMOWRKBK",118:"TMMOBUNDLE",119:"BSMTMMO01",120:"STARTERSPEC20",121:"ALLINONEPACK16",122:"ENTRECAREERBKS04",123:"WEDDINGGIFT04",124:"ULTIMATECAREER",125:"IYIKCB01",126:"LIVEGIVE",127:"FPUGUIDEWDVD",147:"FPUV4CLASSBNDL",167:"TMMOWRKBK",162:"TMMOBUNDLE",163:"BSMTMMO01",169:"STARTERSPEC20",168:"WEDDINGGIFT04",165:"ULTIMATECAREER",166:"IYIKCB01",180:"FPKidsBundle",191:"ALLINONEPACK16",192:"ENTRECAREERBKS04"},y8887kdcrz:{17:"TMMOWRKBK",11:"TMMOBUNDLE",16:"BSMTMMO01",20:"STARTERSPEC20",13:"ALLINONEPACK16",19:"ENTRECAREERBKS04",8:"WEDDINGGIFT04",14:"ULTIMATECAREER",21:"IYIKCB01",15:"LIVEGIVE",10:"FPUGUIDEWDVD"}};var d=window.gtmDataLayer||[];if(!window.gtmDataLayer)window.gtmDataLayer=d;(function(e,t,n,r,a){var i=/store\.ramseysolutions\.com/.test("store.ramseysolutions.com")?"":"&gtm_auth=QdsxPg__bulLcFg0npL1Xg&gtm_preview=env-5&gtm_cookies_win=x";e[r]=e[r]||[];e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var d=t.getElementsByTagName(n)[0],s=t.createElement(n),c=r!="dataLayer"?"&l="+r:"";s.async=true;s.src="https://www.googletagmanager.com/gtm.js?id="+a+c+i;d.parentNode.insertBefore(s,d)})(window,document,"script","gtmDataLayer","GTM-5Z3Z28D");var e="{{page_type}}";function r(e){for(var t in e){if(e[t]===null||e[t]===undefined||e[t].length===0||e[t]===""){delete e[t]}else if(typeof e[t]==="object"){r(e[t])}}return e}function a(e){var t=(new DOMParser).parseFromString(e,"text/html");return t.documentElement.textContent}function t(){return r({customer_id:"{{customer.id}}",email:"{{customer.email}}",name:"{{customer.name}}",phone:"{{customer.phone}}",shipping_address:{address1:"{{customer.shipping_address.address1}}",address2:"{{customer.shipping_address.address2}}",city:"{{customer.shipping_address.city}}",company:"{{customer.shipping_address.company}}",country:"{{customer.shipping_address.country}}",first_name:"{{customer.shipping_address.first_name}}",last_name:"{{customer.shipping_address.last_name}}",address_id:"{{customer.shipping_address.id}}",phone:"{{customer.shipping_address.phone}}",state:"{{customer.shipping_address.state}}",zip:"{{customer.shipping_address.zip}}"}})}function n(){var e=[];var t=r({name:a("{{name}}"),cart_item_id:"{{id}}"?"{{id}}":undefined,id:"{{sku}}",price:"{{price.value}}"?parseFloat("{{price.value}}"):parseFloat("{{price.without_tax.value}}"),brand:a("{{brand.name}}"),quantity:"{{quantity}}"?parseInt("{{quantity}}"):undefined});var n=parseInt("{{@index}}");t[n==0?"category":`category${n}`]=a("{{this}}");e.push(t);return e}function i(){var e={name:a("{{product.title}}"),price:parseFloat("{{product.price.without_tax.value}}"),id:"{{product.sku}}",brand:a("{{product.brand.name}}")};var t=parseInt("{{@index}}");e[t==0?"category":`item_category${t}`]=a("{{this}}");return e}window.eecPushAddToCart=function(){d.push({event:"addToCart",ecommerce:{currencyCode:"USD",add:{products:[{id:d.eec["item"].id,name:a(d.eec["item"].name),brand:a(d.eec["item"].brand),price:d.eec["item"].price,quantity:parseInt(document.getElementById("qty[]").value),category:a(d.eec["item"].category)||""}]}}})};const c=e=>{const t=`query GetProductDetails {
        site {
          product(sku: "${e}") {
            name
            prices {
              price {
                value
              }
            }
            categories {
              edges {
                node {
                  name
                }
              }
            }
            brand {
              name
            }
          }
        }
      }`;return{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer {{ settings.storefront_api.token }}"},body:JSON.stringify({query:t})}};window.eecResetListener=function(){const i=s["{{settings.store_hash}}"];fetch("/api/storefront/carts",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=e[0];const n=t?.lineItems.physicalItems.concat(t?.lineItems.digitalItems);return n||[]}).then(function(e){e.forEach(a=>{const t=function(r){const e=a.discounts.reduce((e,t)=>{if(i[t.id]){if(i[t.id]=="FPUV4CLASSBNDL"){const n=+a.quantity/10;e.set(i[t.id],n)}else{e.set(i[t.id],a.quantity)}}return e},new Map);if(e.size<=0){d.push({event:"removeFromCart",ecommerce:{currencyCode:"USD",remove:{products:[{brand:a.brand,id:a.sku,name:a.name,price:a.salePrice,quantity:r.target.className.includes("rds-Button--small")?1:a.quantity}]}}})}else{e.forEach((t,n)=>{fetch("/graphql",c(n)).then(e=>e.json()).then(({data:e})=>{d.push({event:"removeFromCart",ecommerce:{currencyCode:"USD",remove:{products:[{brand:e.site.product.brand.name,id:n,name:e.site.product.name,price:e.site.product.prices.price.value,quantity:r.target.className.includes("rds-Button--small")?1:t}]}}})})})}};var e=document.querySelector("[data-cart-itemid='"+a.id+"'][data-testid='cart-content-delete-button']");if(e)e.addEventListener("click",function(){var e=document.getElementById("alert-modal").querySelector("button.confirm");e.addEventListener("click",t,{once:true})});var n=document.querySelector("[data-cart-itemid='"+a.id+"'][data-testid='cart-content-decrease-button']");if(n)n.addEventListener("click",t);var r=document.querySelector("[data-cart-itemid='"+a.id+"'][data-testid='cart-content-increase-button']");if(r)r.addEventListener("click",function(){d.push({event:"addToCart",ecommerce:{currencyCode:"USD",add:{products:[{brand:a.brand,id:a.sku,name:a.name,price:a.salePrice,quantity:1}]}}})})})})};if(e==="product"){d.push({event:"detailPage",ecommerce:{currencyCode:"USD",detail:{products:[i()]}}});window.addEventListener("load",function(){document.getElementById("addToCartTriggerBtn")?.addEventListener("click",function(){window.eecPushAddToCart()})});document.addEventListener("submit",function(t){for(let{target:e}=t;e&&e!==this;e=e.parentNode){if(e.matches("[data-cart-item-add]")){window.eecPushAddToCart();break}}},false)}else if(e==="orderconfirmation"){fetch("/api/storefront/orders/{{checkout.order.id}}",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){const a=s["{{settings.store_hash}}"];var i=new Map;const t=e.lineItems.physicalItems.reduce((e,r)=>{const t=Object.entries(r.discounts).reduce((e,t)=>{if(a[t[0]]){if(a[t[0]]=="FPUV4CLASSBNDL"){const n=+r.quantity/10;e.set(a[t[0]],n)}else{e.set(a[t[0]],r.quantity)}}return e},new Map);i=new Map([...i,...t]);if(t.size<=0){const n={};n["id"]=r.sku?r.sku:r.id;n["name"]=r.name;n["price"]=r.salePrice;n["quantity"]=r.quantity;n["category"]=r.categories.length>0?r.categories[0]:"";e.push(n)}return e},[]);const n=e.lineItems.digitalItems.reduce((e,r)=>{const t=r.discounts.reduce((e,t)=>{if(a[t.id]){if(a[t.id]=="FPUV4CLASSBNDL"){const n=+r.quantity/10;e.set(a[t.id],n)}else{e.set(a[t.id],r.quantity)}}return e},new Map);i=new Map([...i,...t]);if(t.size<=0){const n={};n["id"]=r.sku?r.sku:r.id;n["name"]=r.name;n["price"]=r.salePrice;n["quantity"]=r.quantity;n["category"]=r.categories.length>0?r.categories[0]:"";e.push(n)}return e},[]);const r=t.concat(n);i.forEach((e,t)=>{const n={};n["id"]=t;n["quantity"]=e;r.push(n)});const d=r.map(n=>fetch("/graphql",c(n.id)).then(e=>e.json()).then(({data:e})=>{if(e.site.product){const t=e.site.product.brand.name;n.brand=t;if(!n.name){n.name=e.site.product.name;n.price=e.site.product.prices.price.value.toFixed(2);e.site.product.categories.edges.forEach((e,t)=>{n[t===0?"category":`category${t}`]=e.node.name})}}}));return Promise.all(d).then(()=>({orderData:e,orderItems:r}))}).then(function({orderData:e,orderItems:t}){d.push({event:"orderPage",ecommerce:{currencyCode:"USD",purchase:{actionField:{id:"{{checkout.order.id}}",affiliation:"RS BigCommerce",revenue:e.orderAmount,tax:e.taxTotal,shipping:e.shippingCostTotal,coupon:e.coupons.length>0?e.coupons[0].code:""},products:t}}})})}else if(e==="cart"){window.addEventListener("load",function(){var e=document.querySelector("[data-cart]");var t={attributes:false,childList:true};var n=new MutationObserver(function(e){var t=e.find(function(e){var t=Array.from(e.addedNodes).find(function(e){return e.outerText.startsWith("Your Cart (")});return t!==undefined});if(t!==undefined){window.eecResetListener()}});n.observe(e,t)});window.addEventListener("load",function(){var e=performance.getEntriesByType("navigation").type==="reload";if(!e&&!window.item_added){d.push({event:"addToCart",ecommerce:{currencyCode:"USD",add:{products:[{id:"{{cart.added_item.sku}}",name:"{{cart.added_item.name}}",brand:"{{cart.added_item.brand.name}}",price:parseFloat("{{cart.added_item.price.value}}"),quantity:parseInt("{{cart.added_item.quantity}}"),category:"{{this}}"}]}}})}window.item_added=true});window.addEventListener("load",window.eecResetListener)}window.eecGetShopper=t;window.eecGetItems=n;window.eecGetItem=i;window.eecHtmlDecode=a;window.eecClean=r;d["eec"]={};d["eec"]["items"]=n();d["eec"]["item"]=i();d["eec"]["cart_id"]="{{ cart_id }}";d["eec"]["shopper"]=t()})();
